<%- include('./partials/head.ejs') %> <%- include('./partials/nav.ejs') %>

<div class="sign-form">
  <form action="/auth/register" method="POST">
    <input type="text" placeholder="Username" name="userName" value="<%= (inputs.length > 0) ?
        (inputs.find(input => input.param === 'userName')?.value || '') : '' %>" required />

    <% if(validation && validation.path === 'userName' ){ %>
    <p class="error-msg"><%= validation.msg %></p>
    <% } %>

    <input type="email" placeholder=" Email address" name="email" value="<%= (inputs.length > 0) ?
    (inputs.find(input => input.param === 'email')?.value || '') : '' %>" required />

    <% if(validation && validation.path === 'email' ){ %>
    <p class="error-msg"><%= validation.msg %></p>
    <% } %>

    <input type="password" placeholder=" Password" name="password" id="passwordInput" value="<%= (inputs.length > 0) ?
    (inputs.find(input => input.param === 'password')?.value || '') : '' %>" required />
    <span id="passwordToggle" class="password-toggle">
      <i class="fas fa-eye"></i>
    </span>

    <% if(validation && validation.path === 'password' ){ %>
    <p class="error-msg"><%= validation.msg %></p>
    <% } %>

    <input type="password" placeholder=" Password confirmation " name="passwordConfirmation" id="confPasswordInput" value="<%= (inputs.length > 0) ?
    (inputs.find(input => input.param === 'passwordConfirmation')?.value || '') : '' %>" required />

    <span id="confPasswordToggle" class="password-toggle">
      <i class="fas fa-eye"></i>
    </span>

    <% if(validation &&validation.path==='passwordConfirmation' ){ %>

    <p class="error-msg"><%= validation.msg %></p>
    <% } %>

    <button type="submit">Sign Up</button>
  </form>
  <div>
    Already have an account ?
    <a class="login-link" href="/auth/login">Login</a>
  </div>
</div>
<script src="/js/showPassword.js"></script>

<%- include('./partials/footer.ejs') %>